<!DOCTYPE html>
<html>
<head>
    <title>Player Yoshikawa</title>
    <style>
        body { background: #000; margin: 0; text-align: center; color: white; }
        iframe { width: 100%; height: 100vh; border: none; }
        .error { color: #e50914; margin-top: 20px; }
    </style>
</head>
<body>
    <iframe id="player"></iframe>
    <div id="error" class="error"></div>

    <script>
        (async () => {
            const params = new URLSearchParams(window.location.search);
            const imdbId = params.get('imdb_id');
            const tmdbId = params.get('tmdb_id');
            const season = params.get('season');
            const episode = params.get('episode');
            const errorDiv = document.getElementById('error');

            try {
                let playerUrl;
                
                // ▶️ Filmes
                if (imdbId) {
                    playerUrl = `https://playerflixapi.com/filme/${imdbId}`;
                } 
                // ▶️ Séries
                else if (tmdbId && season && episode) {
                    playerUrl = `https://playerflixapi.com/serie/${tmdbId}/${season}/${episode}`;
                } else {
                    throw new Error('Parâmetros inválidos. Use imdb_id (filmes) ou tmdb_id+season+episode (séries)');
                }

                // Redireciona o iframe diretamente (se a API permitir)
                document.getElementById('player').src = playerUrl;

            } catch (error) {
                errorDiv.textContent = `Erro: ${error.message}`;
                console.error(error);
            }
        })();
    </script>
</body>
</html>
