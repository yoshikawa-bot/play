<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="Yoshikawa Streaming - Parte dos sistemas Yoshikawa.">
    <title>Yoshikawa Player</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;color:#fff;min-height:100vh;display:flex;flex-direction:column;overflow-y:scroll;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;background-color:#1a1a1a;position:relative}:root{--bg-color:#2c2c2e;--highlight:#3a3a3c;--text:#fff}header{position:fixed;top:0;left:0;width:100%;padding:12px 24px;display:flex;justify-content:space-between;align-items:center;z-index:1000;background-color:#2c2c2e;border-bottom:1px solid #3a3a3c}header .header-content{position:relative;z-index:4;display:flex;justify-content:space-between;align-items:center;width:100%;font-size:18px;font-weight:500}.menu-icon{font-size:20px;cursor:pointer;color:var(--text);transition:transform .3s ease,color .3s ease;width:24px;height:24px;display:flex;align-items:center;justify-content:center}.menu-icon.active{transform:rotate(45deg);color:#007aff}.support-popup{display:block;position:absolute;top:60px;right:24px;padding:12px 16px;border-radius:12px;z-index:1001;width:auto;max-width:200px;font-size:14px;opacity:0;visibility:hidden;transform:scale(.9);transition:opacity .3s ease,transform .3s ease,visibility .3s ease;background-color:#2c2c2e;border:1px solid #3a3a3c}.support-popup.visible{opacity:1;visibility:visible;transform:scale(1)}.support-popup a{color:#007aff;text-decoration:none;font-weight:500;display:flex;align-items:center;gap:6px}.support-popup a:hover{text-decoration:underline}.container{width:100%;max-width:1280px;margin:7rem auto 0;padding:0 1.5rem;flex:1}.player-wrapper{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:12px;margin-bottom:2rem;transition:transform .3s ease;background-color:#2c2c2e}.player-wrapper:hover{transform:translateY(-4px)}.player-wrapper iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:none;border-radius:12px;z-index:4}.card{position:relative;padding:1.5rem;border-radius:12px;margin-bottom:1.5rem;transition:transform .3s ease;background-color:#2c2c2e}.card:hover{transform:translateY(-2px)}.card h2{font-size:1.25rem;font-weight:600;margin-bottom:.75rem;display:flex;align-items:center;gap:8px;color:var(--text)}.card p{color:#ccc;font-size:.9375rem;line-height:1.5}.footer{position:relative;padding:1.5rem;text-align:center;font-size:.8125rem;color:#ccc;width:100%;margin-top:auto;background-color:#2c2c2e;border-top:1px solid #3a3a3c}.footer a{color:#007aff;text-decoration:none;transition:color .3s ease;display:inline-flex;align-items:center;gap:4px}.footer a:hover{color:#3b9eff;text-decoration:underline}@media (max-width:768px){.container{margin-top:6rem;padding:0 1rem}.support-popup{top:50px;right:12px;max-width:240px}}@media (max-width:480px){.container{margin-top:5.5rem}.card{padding:1rem}.card h2{font-size:1.1rem}.card p{font-size:.875rem}}
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <span class="header-text left">© Yoshikawa</span>
            <div class="menu-icon" id="menuButton">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <div class="support-popup" id="supportPopup">
        <div>
            <p>Precisa de ajuda? <a href="https://wa.me/18589258076" rel="noopener noreferrer" target="_blank"><i class="fab fa-whatsapp"></i> Contate nosso suporte</a></p>
        </div>
    </div>

    <main class="container">
        <div class="player-wrapper">
            <iframe id="player" allow="autoplay; encrypted-media" allowfullscreen loading="lazy" title="Yoshikawa Player"></iframe>
        </div>
        
        <div class="card">
            <div>
                <h2><i class="fas fa-star"></i> Recomendações</h2>
                <p><i class="fas fa-check-circle" style="color:#4caf50;margin-right:6px"></i> Para uma melhor performance e bloqueio eficiente de anúncios, recomendamos o uso do navegador <strong>Brave</strong> ou <strong>Safari</strong> (em dispositivos Apple).</p>
                <p style="margin-top:8px"><i class="fas fa-times-circle" style="color:#f44336;margin-right:6px"></i> Evite utilizar o <strong>Google Chrome</strong>.</p>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div>
            <p>Desenvolvido por <a href="https://instagram.com/kawalyansky" rel="noopener noreferrer" target="_blank"><i class="fab fa-instagram"></i> Kawa</a> • <span id="currentYear"></span></p>
            <p>Este serviço é fornecido em conjunto com a Yoshikawa Bot.</p>
        </div>
    </footer>

    <script>
        const menuButton = document.getElementById('menuButton');
        const supportPopup = document.getElementById('supportPopup');

        menuButton.addEventListener('click', (e) => {
            e.stopPropagation();
            menuButton.classList.toggle('active');
            supportPopup.classList.toggle('visible');
            const icon = menuButton.querySelector('i');
            icon.classList.toggle('fa-bars');
            icon.classList.toggle('fa-times');
        });

        document.addEventListener('click', (e) => {
            if (!supportPopup.contains(e.target) && !menuButton.contains(e.target)) {
                supportPopup.classList.remove('visible');
                menuButton.classList.remove('active');
                const icon = menuButton.querySelector('i');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-bars');
            }
        });

        window.addEventListener('scroll', () => {
            supportPopup.classList.remove('visible');
            menuButton.classList.remove('active');
            const icon = menuButton.querySelector('i');
            icon.classList.remove('fa-times');
            icon.classList.add('fa-bars');
        });

        document.getElementById('currentYear').textContent = new Date().getFullYear();

        (async () => {
            const params = new URLSearchParams(window.location.search);
            const imdbId = params.get('imdb_id');
            const tmdbId = params.get('tmdb_id');
            const season = params.get('season');
            const episode = params.get('episode');
            const errorDiv = document.getElementById('error');

            try {
                let playerUrl;

                if (imdbId) {
                    playerUrl = `https://playerflixapi.com/filme/${imdbId}`;
                } 
                else if (tmdbId && season && episode) {
                    playerUrl = `https://playerflixapi.com/serie/${tmdbId}/${season}/${episode}`;
                } else {
                    throw new Error('Parâmetros inválidos. Use imdb_id (filmes) ou tmdb_id+season+episode (séries)');
                }

                document.getElementById('player').src = playerUrl;
            } catch (error) {
                if (errorDiv) {
                    errorDiv.textContent = `Erro: ${error.message}`;
                }
                console.error(error);
            }
        })();
    </script>
</body>
</html>
